(this["webpackJsonpreact-2021-10-08"]=this["webpackJsonpreact-2021-10-08"]||[]).push([[0],{14:function(e,t,r){e.exports={basketItem:"basket-item_basketItem__Ei069",counter:"basket-item_counter__3ae4-",count:"basket-item_count__1PMoO",price:"basket-item_price__hwmVy",button:"basket-item_button__wPafo",name:"basket-item_name__3ZEsE",info:"basket-item_info__8g5h5"}},17:function(e,t,r){e.exports={product:"product_product__3kfjq",content:"product_content__3SJnw",title:"product_title__3Wk4c",description:"product_description__1l8Ij",price:"product_price__2AtTn",counter:"product_counter__234_5",count:"product_count__3rWw_",buttons:"product_buttons__1d8XO"}},18:function(e,t,r){e.exports={reviewForm:"review-form_reviewForm__m1lEM",reviewFormItem:"review-form_reviewFormItem__ZWkl1",rateWrap:"review-form_rateWrap__xFtWF",addReviewTitle:"review-form_addReviewTitle__Cx8mn",message:"review-form_message__3m5LZ",publish:"review-form_publish__hWPD6",submitButton:"review-form_submitButton__2NfSL"}},22:function(e,t,r){e.exports={basket:"basket_basket__1xrL0",hr:"basket_hr__20D1o",title:"basket_title__1NOhF",button:"basket_button__2fmr9",loading:"basket_loading__2M6q_"}},29:function(e,t,r){e.exports={button:"button_button__3_GL1",primary:"button_primary__17m96",secondary:"button_secondary__3v91q",small:"button_small__14mQu",block:"button_block__yiIqr"}},30:function(e,t,r){e.exports={review:"review_review__3NLiZ",content:"review_content__tNRaI",name:"review_name__2_t_D",comment:"review_comment__1XcdB",rate:"review_rate__3UeVh"}},33:function(e,t,r){e.exports={star:"rate_star__2lA_N",checked:"rate_checked__aRwx4",unknown:"rate_unknown__3B6wx",clickable:"rate_clickable__7OGYH"}},34:function(e,t,r){e.exports={banner:"banner_banner__-R6DW",img:"banner_img__39USH",caption:"banner_caption__1Rp9z",heading:"banner_heading__3MvRh"}},36:function(e,t,r){e.exports={loader:"loader_loader__31U88",bounce1:"loader_bounce1__3tnG1",bounce2:"loader_bounce2__31li3","sk-bounce":"loader_sk-bounce__LRB5V"}},37:function(e,t,r){e.exports={tabs:"tabs_tabs__3hOO2",tab:"tabs_tab__xx9z8",active:"tabs_active__3IcAw"}},41:function(e,t,r){e.exports={switcher:"currency-switcher_switcher__3xoG1",switcherBtn:"currency-switcher_switcherBtn__2Bs0p"}},42:function(e,t,r){e.exports={page:"order-success_page__zBJrG",actions:"order-success_actions__TT0Hz"}},43:function(e,t,r){e.exports={page:"order-error_page__2e1xU",actions:"order-error_actions__1Lvpr"}},50:function(e,t,r){e.exports={menu:"menu_menu__2lX_i"}},51:function(e,t,r){e.exports={reviews:"reviews_reviews__n9n4q"}},52:function(e,t,r){e.exports={enter:"reviews-animation_enter__1O-kf",enterActive:"reviews-animation_enterActive__3DPD1"}},53:function(e,t,r){e.exports={header:"header_header__v9FKw"}},71:function(e,t,r){},74:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var n=r(19),a=r.n(n),c=r(6),i=r(23),s=(r(71),r(16)),o=r(5),u=r(1),l=r(47),d=r(48),b=r(59),j=r(57),O=r(15),f=r.n(O),v=r(27),p=r(10),h="INCREMENT",m="DECREMENT",x="REMOVE",_="ADD_REVIEW",g="CHANGE_RESTAURANT",w="LOAD_RESTAURANTS",y="LOAD_PRODUCTS",k="LOAD_REVIEWS",I="LOAD_USERS",N="CREATE_ORDER",E="_REQUEST",C="_SUCCESS",L="_FAILURE",R=r(7),P=r(2),S=r(21),D=function(e){return e.restaurants.entities},A=function(e){return e.products.entities},H=function(e){return e.order.entities},M=function(e){return e.reviews.entities},U=function(e){return e.restaurants.loading},F=function(e){return e.restaurants.loaded},B=function(e){return e.order.loading},T=function(e){return e.order.error},V=function(e,t){return e.products.loading[t.restId]},Z=function(e,t){return e.products.loaded[t.restId]},W=function(e,t){return e.reviews.loading[t.restId]},z=function(e,t){return e.reviews.loaded[t.restId]},G=function(e){return e.users.loading},q=function(e){return e.users.loaded},J=Object(S.a)(D,Object.values),Y=function(e,t){var r=t.id;return D(e)[r]},X=function(e,t){var r=t.id;return A(e)[r]},Q=function(e,t){var r=t.id;return H(e)[r]||0},$=Object(S.a)(J,(function(e){return e.flatMap((function(e){return e.menu.map((function(t){return{productId:t,restId:e.id}}))})).reduce((function(e,t){var r=t.productId,n=t.restId;return Object(P.a)(Object(P.a)({},e),{},Object(R.a)({},r,n))}),{})})),K=Object(S.a)(H,A,$,(function(e,t,r){return Object.keys(e).filter((function(t){return e[t]>0})).map((function(e){return t[e]})).map((function(t){return{product:t,amount:e[t.id],subtotal:e[t.id]*t.price,restId:r[t.id]}}))})),ee=Object(S.a)([K],(function(e){return e.reduce((function(e,t){return e+t.subtotal}),0)})),te=Object(S.a)((function(e,t){var r=t.id;return M(e)[r]}),(function(e){return e.users.entities}),(function(e,t){var r;return Object(P.a)(Object(P.a)({},e),{},{user:null===(r=t[e.userId])||void 0===r?void 0:r.name})})),re=Object(S.a)(M,Y,(function(e,t){var r=t.reviews.map((function(t){var r;return(null===(r=e[t])||void 0===r?void 0:r.rating)||0}));return Math.round(r.reduce((function(e,t){return e+t}),0)/r.length)})),ne=Object(S.a)(H,(function(e){return Object.entries(e).map((function(e){var t=Object(s.a)(e,2);return{id:t[0],amount:t[1]}}))})),ae=function(e){return{type:h,id:e}},ce=function(e){return{type:m,id:e}},ie="https://raw.githubusercontent.com/icasinteva/react-2021-10-08/refs/heads/master/src",se=r(36),oe=r.n(se),ue=r(0);var le,de=function(){return Object(ue.jsxs)("div",{className:oe.a.loader,children:[Object(ue.jsx)("div",{className:oe.a.bounce1}),Object(ue.jsx)("div",{className:oe.a.bounce2})]})},be=r(17),je=r.n(be),Oe=r(26),fe=r(24),ve=r.n(fe),pe=r(29),he=r.n(pe),me=["title","titleId"];function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xe.apply(this,arguments)}function _e(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ge(e,t){var r=e.title,n=e.titleId,a=_e(e,me);return u.createElement("svg",xe({fill:"none",height:12,viewBox:"0 0 18 17",width:14,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?u.createElement("title",{id:n},r):null,le||(le=u.createElement("path",{d:"m.92445 10.2v-3.21h6.12v-6.390001h3.90005v6.390001h6.12v3.21h-6.12v6.48h-3.90005v-6.48z",fill:"#fff"})))}var we,ye=u.forwardRef(ge),ke=(r.p,["title","titleId"]);function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ie.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ee(e,t){var r=e.title,n=e.titleId,a=Ne(e,ke);return u.createElement("svg",Ie({fill:"none",height:4,viewBox:"0 0 10 4",width:10,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?u.createElement("title",{id:n},r):null,we||(we=u.createElement("path",{d:"m.764347 3.59v-3.39h8.670003v3.39z",fill:"#fff"})))}var Ce,Le=u.forwardRef(Ee),Re=(r.p,["title","titleId"]);function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pe.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function De(e,t){var r=e.title,n=e.titleId,a=Se(e,Re);return u.createElement("svg",Pe({xmlns:"http://www.w3.org/2000/svg",width:"10px",height:"10px",viewBox:"0 0 348.333 348.334",ref:t,"aria-labelledby":n},a),r?u.createElement("title",{id:n},r):null,Ce||(Ce=u.createElement("path",{d:"M336.559,68.611L231.016,174.165l105.543,105.549c15.699,15.705,15.699,41.145,0,56.85 c-7.844,7.844-18.128,11.769-28.407,11.769c-10.296,0-20.581-3.919-28.419-11.769L174.167,231.003L68.609,336.563 c-7.843,7.844-18.128,11.769-28.416,11.769c-10.285,0-20.563-3.919-28.413-11.769c-15.699-15.698-15.699-41.139,0-56.85 l105.54-105.549L11.774,68.611c-15.699-15.699-15.699-41.145,0-56.844c15.696-15.687,41.127-15.687,56.829,0l105.563,105.554 L279.721,11.767c15.705-15.687,41.139-15.687,56.832,0C352.258,27.466,352.258,52.912,336.559,68.611z",fill:"#fff"})))}var Ae=u.forwardRef(De),He=(r.p,["icon","children","primary","secondary","small","block"]),Me={plus:ye,minus:Le,delete:Ae},Ue=function(e){var t,r=e.icon,n=e.children,a=e.primary,c=void 0!==a&&a,i=e.secondary,s=void 0!==i&&i,o=e.small,u=void 0!==o&&o,l=e.block,d=void 0!==l&&l,b=Object(Oe.a)(e,He),j=Me[r];return Object(ue.jsxs)("button",Object(P.a)(Object(P.a)({className:ve()(he.a.button,(t={},Object(R.a)(t,he.a.primary,c),Object(R.a)(t,he.a.secondary,s),Object(R.a)(t,he.a.small,u),Object(R.a)(t,he.a.block,d),t))},b),{},{children:[j&&Object(ue.jsx)(j,{}),n]}))},Fe=Object(u.createContext)(),Be=Fe.Provider,Te={USD:{label:"USD",rate:1,sign:"$"},EUR:{label:"EUR",rate:1/1.15,sign:"\u20ac"},RUB:{label:"RUB",rate:72,sign:"\u20bd"},UAH:{label:"UAH",rate:26,sign:"\u20b4"}},Ve=Object.entries(Te).map((function(e){var t=Object(s.a)(e,2);return{key:t[0],label:t[1].label}}));function Ze(e){var t=e.children,r=Object(u.useState)("USD"),n=Object(s.a)(r,2),a=n[0],c=n[1],i=Te[a],o=i.rate,l=i.sign;return Object(ue.jsx)(Be,{value:{currencies:Ve,currency:a,setCurrency:c,convert:function(e){return"".concat((o*e).toFixed(2)," ").concat(l)}},children:t})}function We(e){var t=e.value;return(0,Object(u.useContext)(Fe).convert)(t)}var ze=Fe;var Ge=Object(c.c)((function(e,t){return{amount:Q(e,t),product:X(e,t)}}),(function(e,t){return{increment:function(){return e(ae(t.id))},decrement:function(){return e(ce(t.id))}}}))((function(e){var t=e.product,r=e.amount,n=e.decrement,a=e.increment;return Object(ue.jsx)("div",{className:je.a.product,"data-id":"product",children:Object(ue.jsxs)("div",{className:je.a.content,children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)("h4",{className:je.a.title,children:t.name}),Object(ue.jsx)("p",{className:je.a.description,children:t.ingredients.join(", ")}),Object(ue.jsx)("div",{className:je.a.price,children:Object(ue.jsx)(We,{value:t.price})})]}),Object(ue.jsx)("div",{children:Object(ue.jsxs)("div",{className:je.a.counter,children:[Object(ue.jsx)("div",{className:je.a.count,"data-id":"product-amount",children:r}),Object(ue.jsxs)("div",{className:je.a.buttons,children:[Object(ue.jsx)(Ue,{onClick:n,icon:"minus","data-id":"product-decrement"}),Object(ue.jsx)(Ue,{onClick:a,icon:"plus","data-id":"product-increment"})]})]})})]})})})),qe=r(12),Je=r(83),Ye=r(81),Xe=r(22),Qe=r.n(Xe),$e=(r(74),r(14)),Ke=r.n($e);function et(){return Object(u.useContext)(ze).convert}var tt=Object(c.c)(null,(function(e,t){return{increment:function(){return e(ae(t.product.id))},decrement:function(){return e(ce(t.product.id))},remove:function(){return e((r=t.product.id,{type:x,id:r}));var r}}}))((function(e){var t=e.product,r=e.amount,n=e.subtotal,a=e.restId,c=e.increment,i=e.decrement,s=e.remove,o=et();return Object(ue.jsxs)("div",{className:Ke.a.basketItem,children:[Object(ue.jsx)("div",{className:Ke.a.name,children:Object(ue.jsx)(qe.a,{to:"/restaurants/".concat(a,"/menu"),children:t.name})}),Object(ue.jsxs)("div",{className:Ke.a.info,children:[Object(ue.jsxs)("div",{className:Ke.a.counter,children:[Object(ue.jsx)(Ue,{onClick:i,icon:"minus",secondary:!0,small:!0}),Object(ue.jsx)("span",{className:Ke.a.count,children:r}),Object(ue.jsx)(Ue,{onClick:c,icon:"plus",secondary:!0,small:!0})]}),Object(ue.jsx)("p",{className:ve()(Ke.a.count,Ke.a.price),children:o(n)}),Object(ue.jsx)(Ue,{onClick:s,icon:"delete",secondary:!0,small:!0})]})]})})),rt=Object(u.createContext)("Default user"),nt=rt.Provider,at=rt.Consumer;var ct,it={createOrder:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t,r){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),a=ne(n),e.prev=2,e.next=5,t({type:N,CallAPI:"/api/order",postData:a});case 5:t(Object(p.d)("/order-success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t(Object(p.d)("/order-error"));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r){return e.apply(this,arguments)}}()}},st=Object(c.c)((function(e){return{total:ee(e),orderProducts:K(e),loading:B(e)}}),it)((function(e){var t=e.title,r=void 0===t?"Basket":t,n=e.total,a=e.orderProducts,c=e.createOrder,i=e.loading,s=et();return n?Object(ue.jsxs)("div",{className:Qe.a.basket,children:[i&&Object(ue.jsx)("div",{className:Qe.a.loading,children:Object(ue.jsx)(de,{})}),Object(ue.jsx)("h4",{className:Qe.a.title,children:Object(ue.jsx)(at,{children:function(e){var t=e.name;return"".concat(t,"'s ").concat(r)}})}),Object(ue.jsx)(Je.a,{children:a.map((function(e){var t=e.product,r=e.amount,n=e.subtotal,a=e.restId;return Object(ue.jsx)(Ye.a,{timeout:500,classNames:"basket-item",children:Object(ue.jsx)(tt,{product:t,amount:r,subtotal:n,restId:a})},t.id)}))}),Object(ue.jsx)("hr",{className:Qe.a.hr}),Object(ue.jsxs)("div",{className:Ke.a.basketItem,children:[Object(ue.jsx)("div",{className:Ke.a.name,children:Object(ue.jsx)("p",{children:"Total"})}),Object(ue.jsx)("div",{className:Ke.a.info,children:Object(ue.jsx)("p",{children:s(n)})})]}),Object(ue.jsxs)(o.d,{children:[Object(ue.jsx)(o.b,{path:"/checkout",children:Object(ue.jsx)(Ue,{primary:!0,block:!0,onClick:c,children:"send order"})}),Object(ue.jsx)(o.b,{children:Object(ue.jsx)(qe.a,{to:"/checkout",children:Object(ue.jsx)(Ue,{primary:!0,block:!0,children:"go to checkout"})})})]})]}):Object(ue.jsx)("div",{className:Qe.a.basket,children:Object(ue.jsx)("h4",{className:Qe.a.title,children:"Select a meal from the list"})})})),ot=r(50),ut=r.n(ot),lt=function(e){Object(b.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={error:null},e.loadProductsIfNeeded=function(){var t=e.props,r=t.loadProducts,n=t.restId,a=t.loading,c=t.loaded;a||c||r(n)},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.loadProductsIfNeeded()}},{key:"componentDidUpdate",value:function(e,t){e.restId!==this.props.restId&&this.loadProductsIfNeeded()}},{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){var e=this.props,t=e.menu,r=e.loading,n=e.loaded;return r?Object(ue.jsx)(de,{}):this.state.error||!n?Object(ue.jsx)("p",{children:"\u041c\u0435\u043d\u044e \u044d\u0442\u043e\u0433\u043e \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e :("}):Object(ue.jsxs)("div",{className:ut.a.menu,children:[Object(ue.jsx)("div",{children:t.map((function(e){return Object(ue.jsx)(Ge,{id:e},e)}))}),Object(ue.jsx)("div",{children:Object(ue.jsx)(st,{})})]})}}]),r}(u.Component),dt={loadProducts:function(e){return{type:y,CallAPI:"".concat(ie,"/products.json?id=").concat(e),restId:e}}},bt=Object(c.c)((function(e,t){return{loading:V(e,t),loaded:Z(e,t)}}),dt)(lt),jt=r(58),Ot=["title","titleId"];function ft(){return ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ft.apply(this,arguments)}function vt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pt(e,t){var r=e.title,n=e.titleId,a=vt(e,Ot);return u.createElement("svg",ft({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?u.createElement("title",{id:n},r):null,ct||(ct=u.createElement("path",{d:"M8 12.8395L3.04225 16L4.35681 10.0741L0 6.08395L5.74648 5.57037L8 0L10.2535 5.57037L16 6.08395L11.6432 10.0741L12.9577 16L8 12.8395Z"})))}var ht=u.forwardRef(pt),mt=(r.p,r(33)),xt=r.n(mt),_t=function(e){var t=e.value,r=e.onChange;return Object(ue.jsx)("div",{children:Object(jt.a)(Array(5)).map((function(e,n){var a;return Object(ue.jsx)(ht,{"data-id":n<=t-1?"full-star":"empty-star",className:ve()(xt.a.star,(a={},Object(R.a)(a,xt.a.checked,n<=t-1),Object(R.a)(a,xt.a.unknown,0===t),Object(R.a)(a,xt.a.clickable,!!r),a)),onClick:r?function(){return r(n+1)}:void 0},n)}))})},gt=r(30),wt=r.n(gt),yt=function(e){var t=e.user,r=e.text,n=e.rating;return Object(ue.jsx)("div",{className:wt.a.review,"data-id":"review",children:Object(ue.jsxs)("div",{className:wt.a.content,children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)("h4",{className:wt.a.name,"data-id":"review-user",children:t}),Object(ue.jsx)("p",{className:wt.a.comment,"data-id":"review-text",children:r})]}),Object(ue.jsx)("div",{className:wt.a.rate,children:Object(ue.jsx)(_t,{value:n})})]})})};yt.defaultProps={user:"Anonymous"};var kt=te,It=Object(c.c)(kt)(yt);var Nt=r(18),Et=r.n(Nt),Ct={name:"",text:"",rating:3},Lt=Object(c.c)(null,(function(e,t){return{onSubmit:function(r){return e(function(e,t){return{type:_,review:e,restId:t,generateId:["reviewId","userId"]}}(r,t.restId))}}}))((function(e){var t=e.onSubmit,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.useState)(e),r=Object(s.a)(t,2),n=r[0],a=r[1],c=function(e,t){return a(Object(P.a)(Object(P.a)({},n),{},Object(R.a)({},e,t)))},i=function(e){return function(t){return c(e,t.target?t.target.value:t)}};return{values:n,reset:function(){return a(e)},handlers:Object.keys(n).reduce((function(e,t){return Object(P.a)(Object(P.a)({},e),{},Object(R.a)({},t,{value:n[t],onChange:i(t)}))}),{})}}(Ct),n=r.values,a=r.handlers,c=r.reset;return Object(ue.jsxs)("div",{className:Et.a.reviewForm,children:[Object(ue.jsx)("h4",{className:Et.a.addReviewTitle,children:"Leave your review"}),Object(ue.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(n),c()},children:[Object(ue.jsx)("div",{className:Et.a.reviewFormItem,children:Object(ue.jsx)("input",Object(P.a)({placeholder:"Your name",className:Et.a.message},a.name))}),Object(ue.jsx)("div",{className:Et.a.reviewFormItem,children:Object(ue.jsx)("textarea",Object(P.a)({placeholder:"Your review",className:Et.a.message},a.text))}),Object(ue.jsxs)("div",{className:Et.a.rateWrap,children:[Object(ue.jsx)("span",{children:"Rating: "}),Object(ue.jsx)("span",{children:Object(ue.jsx)(_t,Object(P.a)({},a.rating))})]}),Object(ue.jsx)("div",{className:Et.a.publish,children:Object(ue.jsx)(Ue,{primary:!0,block:!0,children:"PUBLISH REVIEW"})})]})]})})),Rt=r(51),Pt=r.n(Rt),St=r(52),Dt=r.n(St),At={loadReviews:function(e){return function(){var t=Object(v.a)(f.a.mark((function t(r,n){var a,c,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n(),c=W(a,{restId:e}),i=z(a,{restId:e}),!c&&!i){t.next=5;break}return t.abrupt("return");case 5:return r({type:k+E,restId:e}),t.prev=6,t.next=9,fetch("".concat(ie,"/reviews.json?id=").concat(e)).then((function(e){return e.json()}));case 9:s=t.sent,r({type:k+C,restId:e,data:s}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),r({type:k+L,restId:e,error:t.t0}),r(Object(p.e)("/error"));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e,r){return t.apply(this,arguments)}}()},loadUsers:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t,r){var n,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),a=G(n),c=q(n),!a&&!c){e.next=5;break}return e.abrupt("return");case 5:t({type:I,CallAPI:"".concat(ie,"/users.json")});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}},Ht=Object(c.c)((function(e,t){return{reviewsLoaded:z(e,t),usersLoaded:q(e)}}),At)((function(e){var t=e.reviews,r=e.restId,n=e.loadReviews,a=e.loadUsers,c=e.usersLoaded,i=e.reviewsLoaded;return Object(u.useEffect)((function(){a(),n(r)}),[r,n,a]),c&&i?Object(ue.jsxs)("div",{className:Pt.a.reviews,children:[Object(ue.jsx)(Je.a,{children:t.map((function(e){return Object(ue.jsx)(Ye.a,{timeout:500,classNames:Dt.a,children:Object(ue.jsx)(It,{id:e})},e)}))}),Object(ue.jsx)(Lt,{restId:r})]}):Object(ue.jsx)(de,{})})),Mt=r(34),Ut=r.n(Mt),Ft=r.p+"static/media/banner.40e0021b.jpg",Bt=function(e){var t=e.heading,r=e.children;return Object(ue.jsxs)("div",{className:Ut.a.banner,children:[Object(ue.jsx)("img",{src:Ft,className:Ut.a.img,alt:"banner"}),Object(ue.jsxs)("div",{className:Ut.a.caption,children:[Object(ue.jsx)("h2",{className:Ut.a.heading,children:t}),Object(ue.jsx)("div",{children:r})]})]})},Tt=r(37),Vt=r.n(Tt);var Zt=function(e){var t=e.tabs;return Object(ue.jsx)("div",{className:Vt.a.tabs,children:t.map((function(e){var t=e.label,r=e.url;return Object(ue.jsx)(qe.b,{to:r,className:Vt.a.tab,activeClassName:Vt.a.active,children:t},t)}))})},Wt=Object(c.c)((function(e,t){return{restaurant:Y(e,t),averageRating:re(e,t)}}))((function(e){var t=e.restaurant,r=e.averageRating,n=t.id,a=t.name,c=t.menu,i=t.reviews,s=[{label:"Menu",url:"/restaurants/".concat(n,"/menu")},{label:"Reviews",url:"/restaurants/".concat(n,"/reviews")}];return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Bt,{heading:a,children:Object(ue.jsx)(_t,{value:r})}),Object(ue.jsx)(Zt,{tabs:s}),Object(ue.jsxs)(o.d,{children:[Object(ue.jsx)(o.b,{path:"/restaurants/:restId/menu",children:Object(ue.jsx)(bt,{menu:c,restId:n})}),Object(ue.jsx)(o.b,{path:"/restaurants/:restId/reviews",children:Object(ue.jsx)(Ht,{reviews:i,restId:n})}),Object(ue.jsx)(o.a,{to:"/restaurants/:restId/menu"})]})]})}));var zt,Gt,qt,Jt,Yt,Xt,Qt,$t,Kt,er={loadRestaurants:function(){return{type:w,CallAPI:"".concat(ie,"/restaurants.json")}}},tr=Object(c.c)((function(e){return{restaurants:J(e),loading:U(e),loaded:F(e)}}),er)((function(e){var t,r=e.restaurants,n=e.loading,a=e.loaded,c=e.loadRestaurants;Object(u.useEffect)((function(){n||a||c()}),[n,a,c]);var i=Object(o.g)("/restaurants/:restId/:tabId"),s=(null===i||void 0===i?void 0:i.params.tabId)||"";if(n)return Object(ue.jsx)(de,{});if(!a)return"No data :(";var l=r.map((function(e){var t=e.id;return{label:e.name,url:"/restaurants/".concat(t,"/").concat(s)}}));return Object(ue.jsxs)("div",{children:[Object(ue.jsx)(Zt,{tabs:l}),Object(ue.jsxs)(o.d,{children:[Object(ue.jsx)(o.b,{path:"/restaurants/:restId",children:function(e){var t=e.match;return Object(ue.jsx)(Wt,{id:t.params.restId})}}),Object(ue.jsx)(o.a,{to:"/restaurants/".concat(null===(t=r[0])||void 0===t?void 0:t.id)})]})]})})),rr=["title","titleId"];function nr(){return nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nr.apply(this,arguments)}function ar(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cr(e,t){var r=e.title,n=e.titleId,a=ar(e,rr);return u.createElement("svg",nr({width:115,height:18,viewBox:"0 0 115 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?u.createElement("title",{id:n},r):null,zt||(zt=u.createElement("path",{d:"M60.2043 3.47599V0.761993H49.4633V17H52.4763V10.123H114.261V7.52399H52.4763V3.47599H60.2043Z",fill:"white"})),Gt||(Gt=u.createElement("path",{d:"M97.3408 0V16.238H103.482C108.266 16.238 111.095 13.455 111.095 8.257C111.095 2.438 107.507 0 103.666 0H97.3408ZM100.377 2.737H102.884C105.897 2.737 107.875 4.255 107.875 8.257C107.875 12.834 105.782 13.501 102.263 13.501H100.377V2.737Z",fill:"white"})),qt||(qt=u.createElement("path",{d:"M77.9976 8.556C77.9976 13.11 80.9416 17.066 85.7256 17.066C91.5676 17.066 93.5686 12.121 93.5686 8.441C93.5686 4.048 90.7396 0 85.7946 0C81.1026 0 77.9976 3.795 77.9976 8.556ZM81.1256 8.441C81.1256 4.876 83.1036 2.783 85.7716 2.783C88.9916 2.783 90.5096 5.796 90.5096 8.694C90.5096 12.374 88.2326 14.237 85.8176 14.237C82.3446 14.237 81.1256 10.971 81.1256 8.441Z",fill:"#FFD25E"})),Jt||(Jt=u.createElement("path",{d:"M61.6893 8.556C61.6893 13.11 64.6333 17.066 69.4173 17.066C75.2593 17.066 77.2603 12.121 77.2603 8.441C77.2603 4.048 74.4313 0 69.4863 0C64.7943 0 61.6893 3.795 61.6893 8.556ZM64.8173 8.441C64.8173 4.876 66.7953 2.783 69.4633 2.783C72.6833 2.783 74.2013 5.796 74.2013 8.694C74.2013 12.374 71.9243 14.237 69.5093 14.237C66.0363 14.237 64.8173 10.971 64.8173 8.441Z",fill:"#FFD25E"})),Yt||(Yt=u.createElement("path",{d:"M14.49 17L8.947 0.761993H5.497L0 17H3.266L4.209 13.826H10.304L11.247 17H14.49ZM9.499 11.158H5.014L7.268 3.68299L9.499 11.158Z",fill:"white"})),Xt||(Xt=u.createElement("path",{d:"M30.2451 17V0.761993H27.2551C27.2781 1.12999 27.6231 12.216 27.6231 12.216L20.4241 0.761993H17.6871V17H20.6541C20.6541 16.701 20.4701 5.61499 20.4701 5.61499L27.5771 17H30.2451Z",fill:"white"})),Qt||(Qt=u.createElement("path",{d:"M46.007 0.761993H42.603L39.061 7.47799L35.542 0.761993H32.092L37.52 10.583V17H40.533V10.583L46.007 0.761993Z",fill:"white"})),$t||($t=u.createElement("ellipse",{cx:69.5,cy:8.5,rx:5.5,ry:6.5,fill:"#FFD25D"})),Kt||(Kt=u.createElement("ellipse",{cx:85.5,cy:8.5,rx:5.5,ry:6.5,fill:"#FFD25D"})))}var ir=u.forwardRef(cr),sr=(r.p,r(53)),or=r.n(sr),ur=r(41),lr=r.n(ur),dr=function(){var e=Object(u.useContext)(ze),t=e.currency,r=e.currencies,n=e.setCurrency,a=function(e){return n(e.target.value)};return Object(ue.jsx)("fieldset",{className:lr.a.switcher,children:r.map((function(e){var r=e.key,n=e.label;return Object(ue.jsxs)("label",{className:lr.a.switcherBtn,children:[Object(ue.jsx)("input",{type:"radio",value:r,checked:r===t,onChange:a}),Object(ue.jsx)("span",{children:n})]},r)}))})},br=function(){return Object(ue.jsxs)("header",{className:or.a.header,children:[Object(ue.jsx)(qe.a,{to:"/restaurants",children:Object(ue.jsx)(ir,{})}),Object(ue.jsx)(dr,{})]})},jr=r(42),Or=r.n(jr),fr=function(){return Object(ue.jsxs)("h1",{className:Or.a.page,children:[Object(ue.jsx)("p",{children:"Congratulations! Your order has been successfully created!"}),Object(ue.jsx)("div",{className:Or.a.actions,children:Object(ue.jsx)(qe.a,{to:"/restaurants",children:Object(ue.jsx)(Ue,{primary:!0,block:!0,children:"back to restaurants"})})})]})},vr=r(43),pr=r.n(vr),hr=Object(c.c)((function(e){return{error:T(e)}}))((function(e){var t=e.error,r=et(),n=null===t||void 0===t?void 0:t.replace(/\$(\d+)/gi,(function(e,t){return r(t)}));return Object(ue.jsxs)("h1",{className:pr.a.page,children:[Object(ue.jsx)("p",{children:n}),Object(ue.jsx)("div",{className:pr.a.actions,children:Object(ue.jsx)(qe.a,{to:"/checkout",children:Object(ue.jsx)(Ue,{primary:!0,block:!0,children:"back to checkout"})})})]})})),mr=function(){var e=Object(u.useState)("Andrey"),t=Object(s.a)(e,2),r=t[0],n=t[1];return Object(ue.jsx)("div",{children:Object(ue.jsxs)(nt,{value:{name:r,setName:n},children:[Object(ue.jsx)(br,{}),Object(ue.jsxs)(o.d,{children:[Object(ue.jsx)(o.a,{exact:!0,from:"/",to:"/restaurants"}),Object(ue.jsx)(o.b,{path:"/checkout",component:st}),Object(ue.jsx)(o.b,{path:"/restaurants",component:tr}),Object(ue.jsx)(o.b,{path:"/order-success",component:fr}),Object(ue.jsx)(o.b,{path:"/order-error",component:hr}),Object(ue.jsx)(o.b,{path:"/error",component:function(){return Object(ue.jsx)("h2",{children:"Error Page!"})}}),Object(ue.jsx)(o.b,{component:function(){return Object(ue.jsx)("h2",{children:"404 - Not found :("})}})]})]})})},xr=r(25),_r=r(56),gr=r(45),wr=r(54),yr=r(82),kr=["generateId"],Ir=["CallAPI","type","postData"],Nr=function(e){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},Er={loading:!1,loaded:!1,error:null,entities:{}},Cr=r(20),Lr=function(e){return e.reduce((function(e,t){return Object(P.a)(Object(P.a)({},e),{},Object(R.a)({},t.id,t))}),{})},Rr={activeId:null,loading:!1,loaded:!1,entities:{},error:null},Pr={entities:{},loading:{},loaded:{},error:null},Sr={entities:{},loading:{},loaded:{},error:null},Dr=Object(Cr.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.review,a=t.reviewId,c=t.userId,i=t.restId,s=t.data,o=t.error;switch(r){case k+E:e.error=null,e.loading[i]=!0;break;case k+C:e.loading[i]=!1,e.loaded[i]=!0,Object.assign(e.entities,Lr(s));break;case k+L:e.loading[i]=!1,e.loaded[i]=!1,e.error=o;break;case _:var u=n.text,l=n.rating;e.entities[a]={id:a,userId:c,text:u,rating:l};break;default:return e}})),Ar={entities:{},loading:!1,loaded:!1,error:null},Hr=Object(Cr.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.review,a=t.userId,c=t.data,i=t.error;switch(r){case I+E:e.error=null,e.loading=!0;break;case I+C:e.loading=!1,e.loaded=!0,e.entities=Lr(c);break;case I+L:e.loading=!1,e.loaded=!1,e.error=i;break;case _:var s=n.name;e.entities[a]={id:a,name:s};break;default:return e}})),Mr=r(11),Ur=Object(Mr.a)({basename:"/react-2021-10-08"}),Fr=Object(xr.combineReducers)({router:Object(i.b)(Ur),order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.id,a=t.error,c=e.entities;switch(r){case h:return Object(P.a)(Object(P.a)({},e),{},{entities:Object(P.a)(Object(P.a)({},c),{},Object(R.a)({},n,(c[n]||0)+1))});case m:return Object(P.a)(Object(P.a)({},e),{},{entities:Object(P.a)(Object(P.a)({},c),{},Object(R.a)({},n,c[n]>0?(c[n]||0)-1:0))});case x:return Object(P.a)(Object(P.a)({},e),{},{entities:Object(P.a)(Object(P.a)({},c),{},Object(R.a)({},n,0))});case N+E:return Object(P.a)(Object(P.a)({},e),{},{loading:!0,error:null});case N+C:return Object(P.a)(Object(P.a)({},e),{},{loading:!1,loaded:!0,entities:{}});case N+L:return Object(P.a)(Object(P.a)({},e),{},{loading:!1,loaded:!1,error:a});default:return e}},restaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.restId,a=t.reviewId,c=t.activeId,i=t.data,s=t.error;switch(r){case w+E:return Object(P.a)(Object(P.a)({},e),{},{loading:!0,error:null});case w+C:return Object(P.a)(Object(P.a)({},e),{},{activeId:i[0].id,entities:Lr(i),loading:!1,loaded:!0});case w+L:return Object(P.a)(Object(P.a)({},e),{},{loading:!1,loaded:!1,error:s});case g:return Object(P.a)(Object(P.a)({},e),{},{activeId:c});case _:return Object(Cr.a)(e,(function(e){e.entities[n].reviews.push(a)}));default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr,t=arguments.length>1?arguments[1]:void 0;return Object(Cr.a)(e,(function(e){var r=t.type,n=t.restId,a=t.data,c=t.error;switch(r){case y+E:e.loading[n]=!0;break;case y+C:e.loading[n]=!1,e.loaded[n]=!0,e.error=null,Object.assign(e.entities,Lr(a));break;case y+L:e.loading[n]=!1,e.loaded[n]=!1,e.error=c;break;default:return}}))},reviews:Dr,users:Hr}),Br=Object(xr.applyMiddleware)(_r.a,Object(gr.a)(Ur),(function(e){return function(e){return function(){var t=Object(v.a)(f.a.mark((function t(r){var n,a,c,i,s,o,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.CallAPI){t.next=2;break}return t.abrupt("return",e(r));case 2:return n=r.CallAPI,a=r.type,c=r.postData,i=Object(Oe.a)(r,Ir),e(Object(P.a)(Object(P.a)({},i),{},{type:a+E})),t.prev=4,s=c?Nr(c):{},t.next=8,fetch(n,s);case 8:return o=t.sent,t.next=11,o.json();case 11:if(u=t.sent,o.ok){t.next=14;break}throw u;case 14:e(Object(P.a)(Object(P.a)({},i),{},{type:a+C,data:u})),t.next=20;break;case 17:throw t.prev=17,t.t0=t.catch(4),e(Object(P.a)(Object(P.a)({},i),{},{type:a+L,error:t.t0}));case 20:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}()}}),(function(e){return function(e){return function(t){if(!t.generateId)return e(t);var r=t.generateId,n=Object(Oe.a)(t,kr);e(Object(P.a)(Object(P.a)({},n),r.reduce((function(e,t){return Object(P.a)(Object(P.a)({},e),{},Object(R.a)({},t,Object(yr.a)()))}),{})))}}}),(function(e){return function(e){return function(t){e(t)}}})),Tr=Object(xr.createStore)(Fr,Object(wr.composeWithDevTools)(Br));window.store=Tr,a.a.render(Object(ue.jsx)(c.a,{store:Tr,children:Object(ue.jsx)(i.a,{history:Ur,children:Object(ue.jsx)(Ze,{children:Object(ue.jsx)(mr,{})})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.12f7f05e.chunk.js.map